<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css'>

<div class="container-fluid bg-1 text-center">
	<div class="container-fluid bg-1 text-center">
		
	<h3>Blood Sugar</h3>
	<form class="form-inline">
  <div class="form-group">
    <label for="date">DATE:</label>
    <input type="date" class="form-control" id="date">
  </div>
    <div class="form-group">
      <label for="type">TYPE:</label>
      <select class="form-control" id="type">
        <option>FBS</option>
        <option>PPBS</option>
        <option>PPBS2</option>
        <option>PPBS3</option>
      </select></div>
  <div class="form-group">
    <label for="value">Reading:</label>
    <input type="number" class="form-control" id="value">
  </div>
  
 
</form>
 <button class="btn btn-default" id="submit" onclick="addData()">Submit</button>
	<canvas id="myChart" width="20" height="20"></canvas>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
	<script>
		var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
			type : 'line',
			data : {
				labels : [ "2017-01-14", "17", "18", "19", "20", "21" ],
				datasets : [
						{
							label : 'FBS',
							data : [ 203, 248, 292, 223, 224, 200 ],
							backgroundColor : 'rgba(255, 99, 132, 0)',               borderColor : 'rgba(255,99,132,1)',
							borderWidth : 1
						},

						{
							label : 'PPBS',
							data  : [203, 272, 272, 96, 131, 139],
							backgroundColor : 'rgba(2, 99, 132, 0)',
							borderColor : 'rgba(2,99,132,1)',
							borderWidth : 1
						},

						{
							label : 'PPBS2',
							data : [71, 222, 69, 150, 95, 82 ],
							backgroundColor :'rgba(2, 99, 132, 0)',
							borderColor : 'rgba(2,222,13,1)',
							borderWidth : 1
						},

						{
							label : 'PPBS3',
							data :[ 316, 336, 217, 216, 207, 351 ],
							backgroundColor :  'rgba(2, 9, 3, 0)',
							borderColor : 'rgba(2,99,222,1)',
							borderWidth : 1
						},

				

				]

			},
			options : {
				scales : {
					yAxes : [ {
						ticks : {
							beginAtZero : false
						}
					} ]
				}
			}
		});


function addData(){
     
    var value={
      date:$('#date').val(),
      type:$('#type').val(),
      value:$('#value').val()
    };
  
    if(value.date==""||value.value==""||value.value<=0)
        alert("Invalid Data");
  
    else{
      myChart.data.labels.push(value.date);
      switch(value.type){
        case 'FBS':
         myChart.data.datasets[0].data.push(value.value);
         break;
        case 'PPBS':
         myChart.data.datasets[1].data.push(value.value);
         break;
        case 'PPBS2':
         myChart.data.datasets[2].data.push(value.value); 
         break;
        case 'PPBS3':
         myChart.data.datasets[3].data.push(value.value);
         break;  
          
        }
      
     
      myChart.update();
      console.log(myChart.data.datasets[0].data);
    }
};

  
	</script>
</div>
</div>
</div>